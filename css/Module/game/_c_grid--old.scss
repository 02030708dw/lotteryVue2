// ************************************************************
// c_grid--old
// ************************************************************

$turnBorColor: #808080;
$bgColorHover: #c1dbe5;
$bgColorHoverBor: #79a9c5;
$bgColorHoverBor-320:rgba(247, 147, 30, 1);
$turnColor2: #9cdac4; // 2番
$turnColor4: #fbb1a7; // 4番

.gr_container__fantan {
    &.gr_container__fantan--old {
        &.c_h-game-grid {
            border: 0px;
            // border-right: 1px solid $turnBorColor !important;
        }
        > .c_row {
            &:first-of-type {
                border-top: 1px solid $turnBorColor;
                border-right: 1px solid $turnBorColor;
            }
        }
        .c_row {
            height: 100%;
            // line-height: 20px;
            border: 0;
            & > .c_col {
                .c_component {
                    margin: 0;
                    &:first-of-type {
                        margin-top: 10px;
                        // 停售樣式
                        &.is_strong {
                            color: #d10000 !important;
                        }
                    }
                }
            }
            &:hover {
                box-shadow: none;
            }
            &:nth-of-type(2) {
                > .c_row {
                    border-right: 1px solid $turnBorColor;
                }
            }
        }
        .c_col {
            border-left: 1px solid $turnBorColor;
            border-bottom: 1px solid $turnBorColor;
            height: 80px;
        }
        .c_component {
            width: 100% !important;
            padding: 0px;
        }
        .alignCenter {
            > div {
                float: left;
                width: 20%;
                .c_col {
                    width: 100%;
                }
                &:first-of-type {
                    // 4念3、4念4、4念1
                    width: calc(20% + 1px);
                    .c_row .c_col .c_row {
                        border-right: 1px solid $turnBorColor;
                    }
                }
                &.levelCenter {
                    overflow: hidden;
                    position: relative;
                    width: calc(60% - 1px);
                    height: 240px;
                    // border-right: 1px solid $turnBorColor;
                    border-bottom: 1px solid $turnBorColor;
                    .c_row {
                        > .c_col {
                            &:first-of-type { // 3番
                                background-color: #ffe693; 
                                span {
                                    width: calc(100% / 6);
                                    height: 80px;
                                    background-color: red;
                                    position: absolute;
                                    top: 0;
                                    &:first-of-type {
                                        left: 16px;
                                        transform: rotate(41deg);
                                        width: 130px;
                                        height: 79px;
                                        background-color: red;
                                        position: absolute;
                                        top: -25px;
                                    }
                                    &:last-of-type {
                                        right: 0;
                                    }
                                }
                            }
                            &:nth-of-type(2) {
                                border-left: 0px;
                            }
                            &:last-of-type { // 1番
                                background-color: #e3e3e3; 
                                span {
                                    width: calc(100% / 6);
                                    height: 80px;
                                    background-color: red;
                                    position: absolute;
                                    bottom: 0;
                                    &:first-of-type {
                                        left: 0;
                                    }
                                    &:last-of-type {
                                        right: 0;
                                    }
                                }
                            }
                        }
                        > div:nth-last-of-type(2) {
                            > .c_col {
                                position: relative;
                                width: calc(100% / 6);
                                // 4番、2番共用
                                &:first-of-type, &:last-of-type {
                                    .c_row {
                                        &::before, &::after {
                                            content: '';
                                            position: absolute;
                                            width: 100%;
                                            height: 100%;
                                        }
                                        > div {
                                            position: relative;
                                            z-index: 2;
                                        }
                                        
                                    }
                                    &:hover .c_row, .c_row.is_active {
                                        // hover、選中
                                        background-color: $bgColorHover;
                                        &::before, &::after {
                                            background-color: $bgColorHover;
                                        }
                                    }
                                }
                                &:first-of-type {
                                    // 4番 hover、選中陰影
                                    &:hover .c_row, .c_row.is_active {
                                        &::before {box-shadow: -4px 4px 0px $bgColorHover;}
                                        &::after {box-shadow: -3px -3px 0px $bgColorHover;}
                                    }                                }
                                &:last-of-type {
                                    // 2番 hover、選中陰影
                                    &:hover .c_row, .c_row.is_active {
                                        &::before {box-shadow: 4px 4px 0px $bgColorHover;}
                                        &::after {box-shadow: 4px -4px 0px $bgColorHover;}
                                    }
                                }
                                &:first-of-type {
                                    // 4番
                                    border-left: 0px;
                                    .c_row {
                                        background-color: $turnColor4;
                                        &::before {
                                            right: 0;
                                            transform-origin: right top;
                                            transform: skewY(40deg);
                                            border-top: 1px solid $turnBorColor;
                                            background-color: $turnColor4;
                                            box-shadow: -4px 4px 0px $turnColor4;
                                            bottom: 0;
                                        }
                                        &::after {
                                            right: 0;
                                            top: 0;
                                            transform-origin: right bottom;
                                            transform: skewY(-40deg);
                                            border-bottom: 1px solid $turnBorColor;
                                            background-color: $turnColor4;
                                            box-shadow: -3px -3px 0px $turnColor4;
                                        } 
                                    }
                                    &:hover {
                                        //停售的 hover
                                        .c_row[disabled="disabled"] {
                                            background-color: $turnColor4;
                                            &::before, &::after {
                                                background-color: $turnColor4;
                                            }
                                            &::before {
                                                box-shadow: -4px 4px 0px transparent;
                                            }
                                            &::after {
                                                box-shadow: -3px -3px 0px transparent;
                                            }
                                        }
                                    }
                                }
                                &:last-of-type {
                                    // 2番
                                    .c_row {
                                        background-color: $turnColor2;
                                        &::before {
                                            right: 0;
                                            transform-origin: left top;
                                            transform: skewY(-40.5deg);
                                            border-top: 1px solid $turnBorColor;
                                            background-color: $turnColor2;
                                            box-shadow: 4px 4px 0px $turnColor2;
                                            bottom: 0;
                                        }
                                        &::after {
                                            right: 0;
                                            top: 0;
                                            transform-origin: left bottom;
                                            transform: skewY(40.5deg);
                                            border-bottom: 1px solid $turnBorColor;
                                            background-color: $turnColor2;
                                            box-shadow: 4px -4px 0px $turnColor2;
                                        }
                                    }
                                    &:hover {
                                        //停售的 hover
                                        .c_row[disabled="disabled"] {
                                            background-color: $turnColor2;
                                            &::before, &::after {
                                                background-color: $turnColor2;
                                            }
                                            &::before {
                                                box-shadow: 4px 4px 0px $turnColor2;
                                            }
                                            &::after {
                                                box-shadow: 4px -4px 0px $turnColor2;
                                            }
                                        }
                                    }
                                }
                                .c_row {
                                    position: relative;
                                    z-index: 2;
                                }
                            }
                        }
                    }
                }
                &:last-of-type {
                    .c_col {
                        // border-left: 0px;
                    }
                }
            }
        }
    }
    .dChilds {
        width: calc(100% / 6 * 4) !important;
        .c_col {
            width: 25% !important;
            background-color: transparent !important;
            &:first-of-type {
                border-left: 0px;
            }
        }
    }
}

@media screen and (max-width: 979px) {
    .gr_container__fantan {
        &.gr_container__fantan--old {
            // border-top: 1px solid $turnBorColor !important;
            padding-bottom: 180px;
            &.gr_container__ortuneSpars {
                // 聖地彩才需要的
                > .c_row:first-of-type {
                    border-top: 3px solid #bbb598;
                }
            }
            .c_vAlign {
                display: inline-table;
                width: calc(100% + 1px);
                // height: calc(100% + 1px);
                .c_vAlign--warp {
                    display: table-cell;
                    vertical-align: middle;
                }
            }
            > .c_row > .c_row {
                &:first-of-type, &:nth-of-type(3) {
                    .c_col {
                        width: 20%;
                        height: 60px;
                    }
                }
                &:last-of-type {
                    .c_col {
                        width: 25%;
                        height: 60px;
                    }
                }
            }
            .c_row {
                .c_component {
                    margin-top: 0 !important;
                    font-size: 14px;
                    line-height: 16px;
                    &:last-of-type {
                        // 320 一開始隱藏 input
                        display: none;
                        .c_input__inner {
                            background: rgba(102, 102, 102, 1);
                            border: 1px solid rgba(204, 204, 204, 1);
                            color: rgb(255, 255, 255);
                            padding: 2px 3px !important;
                        }
                    }
                }
                &.is_active {
                    background-color: $bgColorHoverBor-320;
                    // height: 100%;
                    .c_component {
                        &:first-of-type {
                            color: #ffffff;
                        }
                        &:last-of-type {
                            display: block;
                        }
                    }
                }
                &:nth-of-type(2) {
                    margin-top: 0;
                }
            }
            .alignCenter {
                > div {
                    &:first-of-type, &:last-of-type {
                        .c_col {
                            height: calc(190px / 3) !important;
                        }
                    }
                    &:last-of-type .c_col {
                        border-left: 1px solid $turnBorColor;
                    }
                    &:first-of-type {
                        // 4念3、4念4、4念1
                        width: 20%;
                        .c_row .c_col .c_row {
                            // height: calc(100% + 1px);
                            border-right: 0;
                        }
                    }
                    &:last-of-type {
                        // 2念3、2念4、2念1
                        .c_row .c_col .c_row {
                            // height: calc(100% + 1px);
                        }
                    }
                    &.levelCenter {
                        height: 189px;
                        border-right: 0;
                        border-left: 1px solid $turnBorColor;
                        width: 60% ;
                        > .c_row {
                            .c_col {
                                // 大小單雙 4番 2番
                                &:nth-of-type(2), &:nth-of-type(2) > .c_col {
                                    height: calc(60px * 2);
                                    
                                }
                                &:nth-of-type(2) {
                                    > .c_col {
                                        &:first-of-type {
                                            border-right: 1px solid $turnBorColor;
                                        }
                                    }
                                }
                            }
                            > .c_col {
                                &:first-of-type, &:last-of-type {
                                    height: 34px;
                                    .c_row.is_active {
                                        // 3番、1番的 active input
                                        .c_vAlign--warp {
                                            position: relative;
                                        }
                                        .c_component {
                                            width: 50% !important;
                                            padding-left: calc(50% - 80px);
                                            text-align: center;
                                            &:last-of-type {
                                                padding: 0;
                                                padding-left: 0px;
                                                position: absolute;
                                                right: 0px;
                                                top: 0px;
                                                line-height: 33px;
                                                text-align: left;
                                                input {
                                                    // width: 90%;
                                                }
                                            }
                                        }
                                    }
                                    &:last-of-type {
                                        border-bottom: 0px;
                                    }
                                }
                                &:first-of-type {
                                    border-bottom: 0px;
                                }
                            }
                        }

                    }
                }
                
                // 4番、2番
                > div.levelCenter .c_row > div:nth-last-of-type(2) .c_col {
                    &:first-of-type, &:last-of-type {
                        width: 80px;
                        height: 120px;
                        &:hover .c_row.is_active, .c_row.is_active {
                            // 選中
                            &::before, &::after {
                                background-color: $bgColorHoverBor-320;
                                box-shadow: -4px 4px 0px transparent;
                            }
                        }
                    }
                    $skewYdeg--768: 23.5deg;
                    &:first-of-type {
                        // 4番
                        &:hover .c_row {
                            &::before, &::after {
                                background-color: $turnColor4;
                                box-shadow: -4px 4px 0px transparent;
                            }
                        }
                        .c_row {
                            &::before {
                                 transform: skewY($skewYdeg--768);
                                 box-shadow: -4px 4px 0px transparent;
                             }
                             &::after {
                                 transform: skewY(-$skewYdeg--768);
                                 box-shadow: -4px 4px 0px transparent;
                             } 
                         }
                    }
                    &:last-of-type {
                        // 2番
                        &:hover .c_row {
                            &::before, &::after {
                                background-color: $turnColor2;
                                box-shadow: -4px 4px 0px transparent;
                            }
                        }
                        .c_row {
                            &::before {
                                 transform: skewY(-$skewYdeg--768);
                                 box-shadow: -4px 4px 0px transparent;
                             }
                             &::after {
                                 transform: skewY($skewYdeg--768);
                                 box-shadow: -4px 4px 0px transparent;
                             } 
                         }
                    }
                }
                + .c_row {
                    // 14角 ~ 12角橫排
                    .c_col .c_row {
                        // height: 100%;
                    }
                }
            }
            .dChilds {
                // 大小單雙
                width: calc(100% - 160px) !important;
                .c_col {
                    height: 50.5% !important;
                    width: 50% !important;
                    &:first-of-type, &:nth-of-type(2) {
                        border-bottom: 1px solid $turnBorColor;
                        border-top: 1px solid $turnBorColor;
                    }
                    &:first-of-type, &:nth-of-type(3){
                        border-right: 1px solid $turnBorColor;
                        border-left: 0px;
                        .c_row.is_active {
                            border-right: 0.5px solid $turnBorColor;
                        }
                    }
                    &:nth-of-type(2), &:nth-of-type(4) {
                        border-left: 0px;
                        .c_row.is_active {
                            border-right: 0.5px solid $turnBorColor;
                            border-left: 0;
                        }
                    }
                    
                }
            }
        }
    }
    .c_input--short {
        width: calc(100% - 6px);
        max-width: 65px;
    }
}

@media screen and (max-width: 480px) {
        .gr_container__fantan {
            &.gr_container__fantan--old {
                > .c_row > .c_row {
                    &:first-of-type, &:nth-of-type(3) {
                        .c_col {
                            width: 20%;
                        }
                    }
                    &:last-of-type {
                        .c_col {
                            width: 25%;
                        }
                    }
                }
                .alignCenter {
                    > div {
                        &:first-of-type, &:last-of-type {
                            .c_col {
                                // height: calc(280px / 3) !important;
                            }
                        }
                        
                        &:last-of-type .c_col {
                            border-left: 1px solid $turnBorColor;
                        }
                    }
                    $skewYdeg--320: 35deg;
                    > div.levelCenter .c_row > div:nth-last-of-type(2) .c_col {
                        &:first-of-type, &:last-of-type {
                            width: 50px;
                        }
                        &:first-of-type {
                            // 4番
                            .c_row {
                                &::before {
                                     transform: skewY($skewYdeg--320);
                                 }
                                 &::after {
                                     transform: skewY(-$skewYdeg--320);
                                 } 
                             }
                        }
                        &:last-of-type {
                            // 2番
                            .c_row {
                                &::before {
                                     transform: skewY(-$skewYdeg--320);
                                 }
                                 &::after {
                                     transform: skewY($skewYdeg--320);
                                 } 
                             }
                        }
                    }
                    .levelCenter {
                        height: auto !important;
                        border-right: 0 !important;
                        > .c_row {
                            .c_col {
                                &:nth-of-type(2), &:nth-of-type(2) > .c_col {
                                    // height: calc(80px * 2);
                                }
                            }
                            > .c_col {
                                // 1番
                                &:first-of-type, &:last-of-type {
                                    .c_row.is_active {
                                        // 3番、1番的 active input
                                        .c_component {
                                            &:first-of-type, &:nth-of-type(2) {
                                                padding-left: calc(50% - 61px);
                                            }
                                            &:last-of-type {
                                                input {
                                                    width: 75%;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        .c_col{
                        }
                    }
                }
                .dChilds {
                    width: calc(100% - 100px) !important;
                    .c_col {
                        // height: 50% !important;
                        // width: 50% !important;
                        &:first-of-type, &:nth-of-type(3){
                            border-left: 0px;
                        }
                    }
                }
            }
        }
}
