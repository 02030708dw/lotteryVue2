// ************************************************************
// gr_header
// ************************************************************

$gr_header-height: 44px;

.gr_header {
    @include box_shadow(0 -22px 0 #333333 inset, 0 -44px 0 #484848 inset);
    color: text_color(default_invert);
    height: $gr_header-height;
    line-height: $gr_header-height;
    max-width: 980px;
    min-width: 320px;
    margin: 0 auto;
    position: relative;
    &::before {
        @include pseudo;
        @include size(calc(100% - 190px), 4px);
        background-color: #be965d;
        background-image: linear-gradient(to right, #be965d 0,#976f40 28%, #ffcb85 63%,#976f40 100%);
        bottom: 0;
        left: 0;
    }
}



// header logo
.gr_logo, .gr_customlogo {
    @include size(77px, 100%);
    @include multi-lang-loop('gr_logo.png');
}

// W88 logo
// .gr_logo_old, .gr_customlogo {
//     @include size(100px, 100%);
//     @include multi-lang-loop('gr_logo_old.png');
// }

// custom_header logo
.gr_logo, .gr_customlogo, .gr_logo_old {
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 80%;
    float: left;
    position: relative;
    text-align: center;
    z-index: 200;
    & .gr_logo__link {
        display: block;
        height: 100%;
    }
}


.gr_game-lottery {
    text-align: center;
    i {
        transition: transform .3s;
        vertical-align: middle;
    }
    &.is_active i{
        transform: rotate(180deg);
    }
    span {
        display: inline-block;
        height: 100%;
    }
}

@media screen and (min-width: 980px) {
    // 选单
    .gr_nav--nav-bar {
        float: left;
        %gr_nav__link--padding {
            padding: 0 22px;
        }
        & > div {
            float: left;
        }
        & .gr_nav__dropdown {
            cursor: default;
            & .gr_games__link {
                @extend %gr_nav__link--padding;
                display: block;
                height: 100%;
                position: relative;
            }
            & .gr_link__arrow {
                padding: 0 0 0 5px;
            }
            & .c_dropdown-box--list-box-new {
                position: absolute;
                height: 520px;
                width: 800px;
                overflow-x: hidden;
                overflow-y: auto;
                background: #333;
            }
        }
        .gr_my-favorites__icon {
            display: inline-block;
            width: 18px;
        }
        & .gr_nav__dropdown--hover {
            & .gr_link__arrow {
                padding: 0 5px 0 0;
                transform: rotate(-180deg);
            }

        }
        & .gr_nav__menu {
            float: left;
            & .gr_group__item {
                float: left;
            }
            & .gr_item__link {
                @extend %gr_nav__link--padding;
                display: block;
                height: 100%;
            }
        }
        & .gr_item__link.router-link-active,
        & .gr_nav__dropdown--hover .gr_games__link,
        & .gr_nav__dropdown--hover .gr_link__arrow {
            color: #ffcb85;
        }
        @include multi-lang("us") {
            %gr_nav__link--padding {
                padding: 0 14.5px;
            }
        }
        @include multi-lang("vn") {
            font-size: $font_size_small;
            %gr_nav__link--padding {
                padding: 0 14.5px;
            }
        }
    }



    .gr_language {
        cursor: pointer;
        font-size: $font_size_small;
        line-height: 22px;
        height: 28px;
        position: absolute;
        bottom: 0;
        right: 0;
        & .gr_language__text {
            display: block;
            padding: 0 26px 0 3px;
            user-select: none;
        }
        & .gr_language-arrow {
            @include triangle(currentColor, down, 5px);
            top: calc(50% - 1px);
            right: 10px;
            margin-top: -4px;
        }
        & .c_dropdown-box {
            right: 8px;
            left: auto;
            transform: translate(0);
        }
        &.is_active {
            & .gr_language-arrow {
                transform: rotate(180deg);
            }
        }
    }



    // 用戶資訊
    .gr_user-area {
        @include box_shadow(4px 0 4px rgba($color_default, 0.3) inset, 0 -22px 0 #333333 inset, 0 -44px 0 #484848 inset);
        font-size: $font_size_small;
        padding-left: 15px;
        position: absolute;
        top: 0;
        right: 0;
        width: 190px;
        .gr_user-area__user-icon {
            display: block;
            margin-top: 4px;
            float: left;
            &:hover {
                cursor: pointer;
                +div {
                    // gr_user-area__user-name
                    opacity: 1;
                    visibility: visible;
                    transition: 0.4s all;
                }
            }
        }
        .gr_user-area__user-name {
            line-height: 11px;
            position: absolute;
            background-color: rgba(37, 37, 37, 0.8);
            transform: translateX(-110%);
            top: 3px;
            border: 1px solid #ffffff;
            border-radius: 5px;
            text-align: right;
            transition: 0.4s all;
            opacity: 0;
            visibility: hidden;
            // &::after {
            //     @include triangle(currentColor, right, 5px);
            //     right: 0;
            //     top: 50%;
            //     transform: translateY(-50%);
            // }
            .gr_user-name__str, .gr_user-name__play {
                display : inline-block;
                overflow : hidden;
                text-overflow : ellipsis;
                white-space : nowrap;
                padding: 5px 5px 1px;
            }

            .gr_user-name__str--italic{
                font-style: italic;
            }
        }
        & .gr_user-area__user-balance {
            height: $gr_header-height / 2 + 2;
            line-height: $gr_header-height / 2;
            width: calc(100% - 17px);
            margin-left: 5px;
            float: left;
        }
        &::before {
            @include pseudo;
            @include size(100%, 4px);
            background-color: #be965d;
            background-image: linear-gradient(to right, #573e23 0, #be965d 3%,#976f40 28%, #ffcb85 63%,#976f40 100%);
            box-shadow: 4px 0 4px #573e23 inset \9;
            bottom: 0;
            left: 0;
        }
    }
    .gr_user-area__user-balance {
        color: #ffdd4d;
    }
    .gr_user-area__temp-empty {
        min-height: 44px;
    }
    .gr_user-area__temp-btn {
        text-align: right;
        margin: -6px 0 6px 0;
        line-height: 20px;
        float: left;
        .gr_user-area__wap, .gr_user-area__classic, .gr_user-area__replica {
            display: inline-block;
            border: 1px solid #ffffff;
            line-height: 20px;
            padding: 0 4px;
            line-height: 15px;
        }
        .gr_icon__arrow {
            margin-right: -5px;
            border-radius: 3px 0 0 3px;
            color: #4d4d4d;
        }
        .gr_user-area__classic, .gr_user-area__replica {
            margin-right: -5px;
        }
        .gr_user-area__classic {
            border-radius: 3px 0 0 3px;
            color: #4d4d4d;
            background-color: #ffcb85;
        }
        .gr_user-area__wap {
            border-radius: 0 3px 3px 0;
        }
        .gr_user-area__replica, .gr_user-area__wap {
            color: #cccccc;
            background-color: #4d4d4d;
            position: relative;
            &:hover {
                cursor: pointer;
            }
            &::before {
                @include pseudo;
                width: 5px;
                height: 100%;
                left: 0;
                top: 0;
                background-color: azure;
                background: linear-gradient(to right, rgba(59,59,59,1) 1%,rgba(59,59,59,0) 100%);
            }
        }
    }
    .gr_user-area__icon {
        @include size(14px);
        cursor: pointer;
        margin: -2px 0 0 3px;
        transition: all 0.3s ease;
        vertical-align: middle;
        & .gr_icon__stroke {
            fill: none;
            stroke: currentColor;
            stroke-miterlimit: 10;
            stroke-width: 2;
        }
        & .gr_icon__arrow {
            fill: currentColor;
        }
        &:hover {
            transform: rotate(60deg);
        }
        &:active {
            transform: rotate(420deg);
        }
    }

    // @keyframes gr_icon__wave-line {
    //     0% {
    //         transform: translateY(18px) scaleY(0);
    //     }
    //     100% {
    //         transform: translateY(-7px) scaleY(1.5);
    //     }
    // }
    // @keyframes gr_icon__wave {
    //     0% {
    //         transform: translateX(0px);
    //     }
    //     100% {
    //         transform: translateX(13px);
    //     }
    // }
    // #gr_icon__mask {
    //     @include size(27px, 28px);
    // }
    // .gr_header__my-favorites {
    //     @include size(25px, 25px);
    //     position: relative;
    //     top: 5px;
    //     display: inline-block;
    //     transition: 0.4s;
    //     & .gr_my-favorites__icon {
    //         @include size(80%);
    //         padding: 1px;
    //     }
    //     & .gr_my-favorites__shape {
    //         fill: none;
    //         stroke-linecap: round;
    //         stroke-linejoin: round;
    //         stroke-width: 1px;
    //         stroke: #ff6473;
    //     }
    //     & .gr_icon__wave-line {
    //         display: none\0;
    //         transform: translateY(18px) scaleY(0);
    //     }
    //     @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    //         & .gr_icon__wave-line {
    //             display: none;
    //         }
    //      }
    //     & .gr_icon__wave {
    //         fill: #ff6473;
    //     }
    //     &.is_active {
    //         & .gr_icon__wave-line {
    //             @include animate(gr_icon__wave-line, 3.6s, 1, both, -0.6s);
    //             // animation-timing-function: ease-in-out;
    //         }
    //         & .gr_icon__wave {
    //             @include animate(gr_icon__wave, 0.4s, 9);
    //             // animation-timing-function: linear;
    //         }
    //         &::before {
    //             opacity: 1;
    //             transform: translate(-50%, 0);
    //             transition-delay: 0.15s;
    //             visibility: visible;
    //         }
    //     }
    // }

    .gr_header__my-favorites {
            @include size(25px, 25px);
            position: relative;
            top: 5px;
            display: inline-block;
            .gr_my-favorites__icon {
                @include size(80%);
                padding: 1px;
            }
            .gr_my-favorites__shape {
                fill: none;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-width: 1px;
                stroke: #ff6473;
                fill: rgba(255, 100, 115, 0);
                transition: 0.4s;
            }
            &.is_active {
                .gr_my-favorites__shape {
                    fill: #ff6473;
                    transition: 0.4s;
                }
            }

        }

    // .gr_header__my-favorites,
    .gr_hamburger,
    .gr_game-hamburger {
        display: none;
    }
}





@media screen and (max-width: 979px) {
    .gr_nav--nav-bar {
        display: none;
    }
    .gr_header {
        position: fixed;
        top: 0;
        left: 0;
        user-select: none;
        width: 100vw;
        z-index: 1000;
        &::before {
            width: 100%;
        }
    }



    .gr_language {
        color: #ffcb85;
        cursor: pointer;
        line-height: 44px;
        height: 44px;
        position: absolute;
        top: 0;
        right: 0;
        z-index: 200;
        & .gr_language__text {
            display: block;
            padding: 0 26px 0 3px;
            user-select: none;
        }
        & .gr_language-arrow {
            @include triangle(currentColor, down, 5px);
            top: calc(50% - 1px);
            right: 10px;
        }
        &.is_active {
            & .gr_language-arrow {
                transform: rotate(180deg);
            }
            &::after {
                @include pseudo;
                @include size(100vw, calc(100vh - 44px));
                background: rgba(0, 0, 0, 0.65);
                min-width: 320px;
                top: 44px;
                right: 0;
                z-index: -1;
            }
        }
    }



    // 用戶資訊
    .gr_user-area {
        background: #666666;
        margin: 3px 0 12px;
        padding: 2px 10px;
        position: relative;
        .gr_user-area__user-icon {
            display: none;
        }
        .gr_user-area__user-name {
            line-height: 0px;
            & span {
                line-height: 20px;
            }
        }
        & .gr_user-name__str {
            display : inline-block;
            overflow : hidden;
            text-overflow : ellipsis;
            white-space : nowrap;
            width: 80px;
        }
        & .gr_user-name__str--italic {
            font-style: italic;
        }
        & .gr_user-area__user-balance {
            color: #ffdd4d;
            line-height: 20px;
        }
        .gr_user-area__temp-btn {
            width: auto;
            text-align: right;
            position: absolute;
            right: 10px;
            top: 0px;
            .gr_user-area__classic, .gr_user-area__replica, .gr_user-area__wap {
                display: inline-block;
                border: 1px solid #ffffff;
                line-height: 20px;
                padding: 0 10px;
            }
            .gr_user-area__classic, .gr_user-area__replica {
                margin-right: -5px;
            }
            .gr_user-area__classic {
                border-radius: 3px 0 0 3px;
                color: #4d4d4d;
                background-color: #ffcb85;
            }
            .gr_user-area__replica, .gr_user-area__wap {
                color: #cccccc;
                background-color: #333333;
            }
            .gr_user-area__wap {
                border-radius: 0 3px 3px 0;
            }
        }
    }
    .gr_user-area__icon {
        @include size(14px);
        cursor: pointer;
        margin: -2px 0 0 3px;
        transition: all 0.3s ease;
        vertical-align: middle;
        & .gr_icon__stroke {
            fill: none;
            stroke: currentColor;
            stroke-miterlimit: 10;
            stroke-width: 2;
        }
        & .gr_icon__arrow {
            fill: currentColor;
        }
        &:hover {
            transform: rotate(60deg);
        }
        &:active {
            transform: rotate(420deg);
        }
    }



    @keyframes gr_icon__wave-line {
        0% {
            transform: translateY(18px) scaleY(0);
        }
        50% {
            transform: translateY(0) scaleY(1);
        }
        100% {
            transform: translateY(18px) scaleY(0);
        }
    }
    @keyframes gr_icon__wave {
        0% {
            transform: translateX(2px);
        }
        100% {
            transform: translateX(13px);
        }
    }
    #gr_icon__mask {
        @include size(27px, 28px);
    }
    .gr_header__my-favorites {
        @include size(47px, 44px);
        padding: 5px 9px 9px;
        position: absolute;
        top: 0;
        right: 50px;
        display: inline-block;
        & .gr_my-favorites__icon {
            @include size(100%);
            padding: 1px;
        }
        & .gr_my-favorites__shape {
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-width: 1px;
            stroke: #ffcb85;
        }
        & .gr_icon__wave-line {
            display: none\0;
            transform: translateY(18px) scaleY(0);
        }
        @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
            & .gr_icon__wave-line {
                display: none;
            }
         }
        & .gr_icon__wave {
            fill: #c69c6d;
        }
        &::before {
            @include pseudo;
            @include size(0);
            border-right: 7px solid transparent;
            border-bottom: 6px solid backgrounds(primary);
            border-left: 7px solid transparent;
            opacity: 0;
            bottom: 0;
            left: 50%;
            transform: translate(-50%, 100%);
            transition: all 0.25s cubic-bezier(0.6, 0.02, 0.2, 1);
            transition-delay: 0s;
            visibility: hidden;
        }
        &.is_active {
            & .gr_icon__wave-line {
                @include animate(gr_icon__wave-line, 3.6s, 1, both, -0.6s);
                animation-timing-function: ease-in-out;
            }
            & .gr_icon__wave {
                @include animate(gr_icon__wave, 0.4s, 9);
                animation-timing-function: linear;
            }
            &::before {
                opacity: 1;
                transform: translate(-50%, 0);
                transition-delay: 0.15s;
                visibility: visible;
            }
        }
    }


    .gr_logo, .gr_customlogo, .gr_logo_old {
        display: block;
        float: none;
        margin: 0 auto;
    }
}





// 768 选单
.gr_nav {
    @include size(255px, 100%);
    background: backgrounds(primary);
    color: text_color(default);
    display: none;
    overflow-x: hidden;
    overflow-y: hidden;
    position: fixed;
    top: 0;
    left: 0;
    left: -255px \9;
    z-index: 105;
    .gr_nav__wa{
        width: calc(100% + 17px);
        height: 100%;
        overflow-x: hidden;
        overflow-y: scroll;
    }
}

.gr_nav__header {
    @include box_shadow(0 -22px 0 #333333 inset, 0 -44px 0 #484848 inset);
    @include size(300px, $gr_header-height);
    color: text_color(default_invert);
    padding-left: 33px;
    position: relative;
    & .gr_user-area__user-name {
        height: $gr_header-height / 2 - 2;
        line-height: $gr_header-height / 2;
    }
    & .gr_user-area__user-balance {
        height: $gr_header-height / 2 + 2;
        line-height: $gr_header-height / 2;
    }
    &::before {
        @include pseudo;
        @include size(100%, 4px);
        background-color: #be965d;
        background-image: linear-gradient(to right, #be965d 0,#976f40 28%, #ffcb85 63%,#976f40 100%);
        bottom: 0;
        left: 0;
    }
}
.gr_nav .gr_nav-tabs {
    font-size: 0;
    width: 255px;
    & li {
        font-size: $font_size_large;
        line-height: 32px;
        & > a {
            border-bottom: 1px solid border_color(default);
            color: text_color(secondary);
            display: block;
            padding: 12px 15px 12px 35px;
            position: relative;
            &.router-link-active {
                color: text_color(accent);
                &::before {
                    @include pseudo;
                    @include size(10px, 100%);
                    background: currentColor;
                    top: 0;
                    left: 0;
                }
            }
            @include multi-lang {
                padding-left: 20px;
            }
        }
        &:last-of-type {
            & > a {
                border: none;
            }
        }
        @include multi-lang {
            font-size: $font_size;
        }
    }
}



.gr_nav-tabs__sidebar {
    font-size: $font_size_large;
    display: inline-block;
    position: sticky;
    top: 42px;
    padding: 10px 0;
    text-align: center;
    vertical-align: top;
    width: 60px;
    & .gr_sidebar__button {
        @include size(45px);
        border: 1px solid #808080;
        border-radius: border_radius(rounded);
        cursor: pointer;
        line-height: 43px;
        margin: 10px auto;
        padding: 0;
        text-align: center;
        &.is_active {
            background: #f7931e;
            border: 1px solid #f15a24;
            color: #ffffff;
        }
        @include multi-lang {
            @include size(67px);
        }
    }
    & + .gr_nav-tabs__content {
        background: linear-gradient(to right, shadow_color(light) 0%, backgrounds(primary) 2%,backgrounds(primary) 100%);
        filter: none;
        border-left: 1px solid #b3b3b3;
        min-height: calc(100vh - 111px);
        width: calc(100% - 60px);
        @include multi-lang {
            width: calc(100% - 78px);
        }
    }
    @include multi-lang {
        width: 78px;
    }
}



.gr_nav-tabs__content {
    background: backgrounds(primary);
    display: inline-block;
    padding-bottom: 30px;
    vertical-align: top;
    width: 100%;
}

$title_color: #1a1a1a;
$method_color: #666666;
$play_color: #808080;
$plays_bg: #ffd371;
$plays_border: #f97600;

.method_menu{
    position: relative;
    padding: 1em 0;
    .method_title{
        margin: 0 0.5em;
        position: relative;
        font-weight: bold;
        padding-left: 0.5em;
        color: $title_color;
        &:before{
            content: '';
            position: absolute;
            width: 4px;
            height: 70%;
            background: linear-gradient(to bottom, #dcc883 0%, #bc8b5d 100%);
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            border-radius: 3px 10px 10px 3px;
        }
    }
    .method_content{
        padding: 0 0.3em;
        display: flex;
        flex-wrap: wrap;
        align-items: stretch;
    }
    .method_items{
        width: calc((100% - 1.6em) / 4);
        cursor: pointer;
        margin: 0.3em 0.2em;
        border: 1px solid $method_color;
        border-radius: 2.5px;
        min-height: 30px;
        display: flex;
        justify-content: center;
        align-items: center;
        word-break: break-word;
        text-align: center;
        &.is_active{
            color: white;
            background: $method_color;
            border-color: transparent;
        }
    }
}
.plays_menu_bg{
    background: #e2e2e2;
    position: absolute;
    height: calc(100% - 124px);
    left: 0;
    right: 0;
    &:after{
        content: '';
        position: absolute;
        width: 0;
        height: 0;
        border: 10px solid;
        border-color: transparent transparent #e2e2e2 transparent;
        top: -18px;
        left: 50%;
        transform: translateX(-50%);
    }
}
.plays_menu_mask{
    height: 100%;
    overflow-x: hidden;
    overflow-y: auto;
}
.plays_menu{
    padding: 1em 0;
    .plays_title{
        margin: 0 0.5em;
        position: relative;
        font-weight: bold;
        padding-left: 0.5em;
        color: $title_color;
        &:before{
            content: '';
            position: absolute;
            width: 4px;
            height: 70%;
            background: linear-gradient(to bottom, rgba(223,39,65,1) 0%, rgba(138,1,45,1) 100%);
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            border-radius: 3px 10px 10px 3px;
        }
    }
    .plays_content{
        padding: 0 0.3em;
        display: flex;
        flex-wrap: wrap;
        align-items: stretch;
    }
    .plays_items{
        width: calc((100% - 1.6em) / 3);
        cursor: pointer;
        margin: 0.3em 0.2em;
        border: 1px solid $method_color;
        border-radius: 2.5px;
        min-height: 30px;
        display: flex;
        justify-content: center;
        align-items: center;
        word-break: break-word;
        text-align: center;
        font-size: 12px;
        &.is_active{
            background: $plays_bg;
            border-color: $plays_border;
        }
    }
}